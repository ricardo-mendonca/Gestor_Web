<div class="container">
    <div>
        <br>
        <div class="row mb-1">
            <div class="col">
                <div class="form-floating mb-1">
                    <h3 class="mb-5" ng>Alterar Despesa </h3>
                </div>
            </div>
            <div class="col">
                <div class="form-floating mb-1">
                </div>
            </div>
            <div class="col">
                <div class="form-floating mb-1">
                </div>
            </div>
            <div class="col">
                <div class="form-floating mb-1">
                    <button class="w-100 btn btn-primary btn-lg btn-block " (click)="voltar()">voltar</button>
                </div>
            </div>
        </div>

        <app-loading *ngIf="busy"></app-loading>

        <form [formGroup]="form" *ngIf="!busy">

            <div class="card-body p-5 text-center">
                <div class="row mb-1">

                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="ds_descricao" formControlName="ds_descricao" placeholder="name">
                            <label for="floatingInput">Descrição</label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <select class="form-select" id="id_categoria" formControlName="id_categoria">
                                <option *ngFor="let categoria of categoria$ | async" [value]="categoria.id">
                                    {{categoria.ds_descricao}}</option>
                            </select>
                            <label for="floatingSelectGrid">Categoria</label>
                        </div>
                    </div>
                </div>
                <div class="row mb-1">
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" formControlName="vl_valor_parc">
                            <label for="floatingInput">Valor</label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" formControlName="vl_valor_multa">
                            <label for="floatingInput">Multa</label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" formControlName="vl_valor_desconto">
                            <label for="floatingInput">Desconto</label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" mask="00/00/0000" formControlName="dt_vencimento"
                                [(ngModel)]="dt_vencimento" placeholder="00/00/0000">
                            <label for="floatingInput">Data Vencimento</label>
                        </div>
                    </div>

                </div>

                <div class="row mb-1">

                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" readonly="true" formControlName="fl_despesa_fixa"
                            [(ngModel)]="fl_despesa_fixa">                        
                            <label for="floatingSelectGrid">Despesa fixa?</label>
                        </div>

                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <select class="form-select" #flPago formControlName="fl_pago">
                                <option value="0">Não</option>
                                <option value="1">Sim</option>
                            </select>
                            <label for="floatingSelectGrid">Já esta pago?</label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3" *ngIf="flPago.value=='1' ">
                            <input type="text" class="form-control" mask="00/00/0000" formControlName="dt_pagamento"
                                [(ngModel)]="dt_pagamento" placeholder="00/00/0000">
                            <label for="floatingInput">Data do pagamento</label>
                            
                        </div>
                       
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" readonly="true" formControlName="cd_qtd_parc"
                                placeholder="000">
                            <label for="floatingInput">Parcela</label>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" readonly="true" formControlName="cd_qtd_tot_parc"
                                placeholder="000">
                            <label for="floatingInput">total de parcelas</label>
                        </div>
                    </div>
                </div>
                <button class="w-25 btn btn-primary btn-lg btn-block" (click)="submit()">Salvar</button>



            </div>

        </form>




    </div>
</div>